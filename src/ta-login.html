<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="../bower_components/polymerfire/polymerfire.html">

<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-button\paper-button.html">

<dom-module id="ta-login">
    <template>
        <style>
            :host {
                display: flex;

                max-width: 1440px;
                margin-left: auto;
                margin-right: auto;

                justify-content: center;
                flex-direction: column;
                padding: 15px;

                --paper-button {
                    justify-content: flex-start;
                }
            }

            paper-button {
                font-size: 18px;
                font-weight: bold;
                padding: 0.5714em;
                margin-bottom: 20px;
                text-transform: none;
                justify-content: flex-start;
            }

            paper-button#google {
                background: #ffffff;
                color: var(--paper-grey-600);
            }

            paper-button#facebook {
                background: #3d5b9a;
                color: #ffffff;
            }

            .social-icon {
                height: 1.286em;
                width: 1.286em;
                margin-right: 1.7143em;
            }

            h1 {}
        </style>

        <firebase-auth id="auth" user="{{user}}" on-error="handleError"></firebase-auth>

        <!-- logged in -->
        <template is="dom-if" if="[[!user.isAnonymous]]">
            <paper-button raised on-tap="_logout">Log Out</paper-button>
        </template>

        <!-- not logged in -->
        <template is="dom-if" if="[[user.isAnonymous]]">
            <h1>Login</h1>

            <paper-button id="google" raised on-tap="_googleSignInTap">
                <img class="social-icon" src="../images/google-g-icon.svg" /> Sign in with Google</paper-button>

            <paper-button id="facebook" raised on-tap="_facebookSignInTap"><img class="social-icon" src="../images/facebook-f-icon-white.svg" />Sign in with Facebook</paper-button>

        </template>

    </template>
    <script>
        Polymer({

            is: 'ta-login',

            properties: {
                user: {
                    type: Object,
                    observer: '_userChange'
                }
            },

            _userChange: function() {

            },

            _googleSignInTap: function() {
                this.fire('sign-in', 'google');
            },

            _facebookSignInTap: function() {
                this.fire('sign-in', 'facebook');
            },

            _logout: function() {
                this.fire('logout');
            },
        });
    </script>
</dom-module>
